<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kasir - Bakso pak Yanto</title>
    <link rel="icon" href="images/bakso.png" type="image/png" />
    <link rel="stylesheet" href="css/kasir.css" />
  </head>
  <body>
    <div class="kasir-container" style="justify-content: space-between">
      <div>
        <h2>Selamat Datang, Bakso Pak Yanto</h2>
      </div>
      <div class="logout-container">
        <button onclick="logout()" class="btn btn-log-out" title="Log Out">
          Logout
        </button>
      </div>

      <div style="display: flex; align-items: center">
        <img src="images/logo.png" alt="Logo" class="logo" />
      </div>
    </div>

    <div class="container">
      <h1>Kasir - Bakso Pak Yanto</h1>

      <label for="menu-bakso">Pilih Menu Bakso:</label>
      <select id="menu-bakso">
        <option value="" disabled selected>-- Pilih Menu Bakso --</option>
        <option value="Bakso Biasa" data-harga="15000">
          Bakso Biasa - Rp15.000
        </option>
        <option value="Bakso Tetelan" data-harga="22000">
          Bakso Tetelan - Rp22.000
        </option>
        <option value="Bakso Optional" data-harga="">Bakso Optional</option>
      </select>

      <div id="input-harga-optional" style="display: none; margin-top: 10px">
        <label for="harga-optional">Masukkan Harga Bakso Optional:</label>
        <input
          type="number"
          id="harga-optional"
          min="0"
          placeholder="Contoh: 12000"
        />
      </div>

      <div id="jumlah-bakso-container" style="display: none">
        <label for="jumlah-bakso">Jumlah Beli:</label>
        <input
          type="number"
          id="jumlah-bakso"
          min="1"
          placeholder="Masukkan jumlah"
        />
      </div>

      <label for="menu-minuman">Pilih Menu Minuman:</label>
      <select id="menu-minuman">
        <option value="" disabled selected>-- Pilih Menu Minuman --</option>
        <option value="Es Jeruk" data-harga="5000">
          Es Jeruk / Hangat - Rp5.000
        </option>
        <option value="Jeruk Hangat" data-harga="4000">
          Es Jeruk Tawar / Hangat - Rp4.000
        </option>
        <option value="Es Teh" data-harga="3000">
          Es Teh / Hangat - Rp3.000
        </option>
        <option value="Teh Hangat" data-harga="2000">
          Es Teh Tawar / Hangat - Rp2.000
        </option>
        <option value="Es Air Putih" data-harga="2000">
          Es Air Putih - Rp2.000
        </option>
        <option value="Air Putih" data-harga="1000">Air Putih - Rp1.000</option>
      </select>

      <div id="jumlah-minuman-container" style="display: none">
        <label for="jumlah-minuman">Jumlah Beli:</label>
        <input
          type="number"
          id="jumlah-minuman"
          min="1"
          placeholder="Masukkan jumlah"
        />
      </div>

      <label for="menu-tambahan">Pilih Menu Tambahan:</label>
      <select id="menu-tambahan">
        <option value="" disabled selected>-- Pilih Menu Tambahan --</option>
        <option value="Lontong" data-harga="2000">Lontong - Rp2.000</option>
        <option value="Kerupuk" data-harga="1000">Kerupuk - Rp1.000</option>
      </select>

      <div id="jumlah-tambahan-container" style="display: none">
        <label for="jumlah-tambahan">Jumlah Beli:</label>
        <input
          type="number"
          id="jumlah-tambahan"
          min="1"
          placeholder="Masukkan jumlah"
        />
      </div>

      <button class="btn btn-primary" onclick="tambahProduk()">
        Tambah Produk
      </button>

      <table id="daftarProduk">
        <thead>
          <tr>
            <th>Produk</th>
            <th>Harga Satuan</th>
            <th>Jumlah</th>
            <th>Total</th>
            <th>Aksi</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

      <h3>Total Bayar: Rp <span id="totalBayar">0</span></h3>

      <label for="bayar">Jumlah Bayar:</label>
      <input type="number" id="bayar" placeholder="Masukkan jumlah bayar" />
      <label for="metode">Metode Pembayaran:</label>
      <select id="metode">
        <option value="Tunai">Tunai</option>
        <option value="QRIS">QRIS</option>
      </select>

      <h3>Kembalian: Rp <span id="kembalian">0</span></h3>

      <button class="btn btn-primary" onclick="cetakStruk()">
        Tampilkan Struk
      </button>
      <button class="btn btn-secondary" onclick="printStruk()">
        Print Struk
      </button>
      <button class="btn btn-danger" onclick="resetSemua()">Reset</button>

      <button class="btn btn-report" onclick="openLaporanModal()">
        Laporan
      </button>

      <div id="laporanModal">
        <div class="laporan-content">
          <div class="laporan-header">
            <h3>Laporan Penjualan</h3>
            <span class="close-btn" onclick="closeLaporanModal()">Tutup</span>
            <div style="margin-bottom: 10px">
              <label for="tanggalCari">Cari Laporan Tanggal: </label>
              <input type="date" id="tanggalCari" />
              <button onclick="cariLaporanTanggal()">Cari</button>
            </div>
          </div>

          <button
            class="btn btn-secondary"
            onclick="tampilkanLaporan('harian')"
          >
            Laporan Harian
          </button>
          <button
            class="btn btn-secondary"
            onclick="tampilkanLaporan('bulanan')"
          >
            Laporan Bulanan
          </button>

          <div id="laporanHarian" style="display: none">
            <h4>Laporan Penjualan Hari Ini</h4>
            <table class="laporan-table">
              <thead>
                <tr>
                  <th>Tanggal</th>
                  <th>Menu</th>
                  <th>Total</th>
                  <th>Metode</th>
                </tr>
              </thead>
              <tbody id="harianBody"></tbody>
            </table>
          </div>

          <div id="laporanBulanan" style="display: none">
            <h3 id="bulanTahunLaporan">Laporan Bulanan:</h3>
            <table>
              <thead>
                <tr>
                  <th>Deskripsi</th>
                  <th>Total</th>
                </tr>
              </thead>
              <tbody id="bulananBody"></tbody>
            </table>
          </div>

          <button class="btn btn-danger" onclick="hapusLaporan()">
            Hapus Semua Laporan
          </button>
        </div>
      </div>

      <div id="struk"></div>
    </div>

    <div id="loadingScreen" style="display: none">
      <div class="loader">
        <img src="images/log-out.png" alt="Loading..." />
        <p>Terima kasih telah menjadi pelanggan kami</p>
      </div>
    </div>

    <script src="js/kasir.js"></script>
  </body>
</html>
