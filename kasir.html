<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kasir - Bakso pak Yanto</title>
    <link rel="icon" href="images/bakso.png" type="image/png" />
    <link rel="stylesheet" href="css/kasir.css" />
  </head>
  <body>
    <div class="kasir-container" style="justify-content: space-between">
      <div>
        <h2>Selamat Datang, Bakso Pak Yanto</h2>
      </div>
      <div class="logout-container">
        <button onclick="logout()" class="btn btn-log-out" title="Log Out">
          Logout
        </button>
      </div>

      <div style="display: flex; align-items: center">
        <img src="images/logo.png" alt="Logo" class="logo" />
      </div>
    </div>

    <div class="container">
      <h1>Kasir - Bakso Pak Yanto</h1>

      <label for="produk">Pilih Menu:</label>
      <select id="produk">
        <option value="" disabled selected>-- Pilih Menu --</option>
        <option value="Bakso Biasa" data-harga="12000">
          Bakso Biasa - Rp12.000
        </option>
        <option value="Bakso Urat" data-harga="20000">
          Bakso Urat - Rp20.000
        </option>
        <option value="Bakso Mini" data-harga="8000">
          Bakso Mini - Rp8.000
        </option>
        <option value="Kerupuk" data-harga="2000">Kerupuk - Rp2.000</option>
        <option value="Usus" data-harga="5000">Usus - Rp5.000</option>
        <option value="Es Teh" data-harga="4000">Es Teh - Rp4.000</option>
        <option value="Teh Anget" data-harga="3000">Teh Anget - Rp3.000</option>
        <option value="Air Mineral" data-harga="2500">
          Air Mineral - Rp2.500
        </option>
      </select>

      <label for="jumlah">Jumlah Beli:</label>
      <input type="number" id="jumlah" min="1" placeholder="Masukkan jumlah" />

      <button class="btn btn-primary" onclick="tambahProduk()">
        Tambah Produk
      </button>

      <table id="daftarProduk">
        <thead>
          <tr>
            <th>Produk</th>
            <th>Harga Satuan</th>
            <th>Jumlah</th>
            <th>Total</th>
            <th>Aksi</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

      <h3>Total Bayar: Rp <span id="totalBayar">0</span></h3>

      <label for="bayar">Jumlah Bayar:</label>
      <input type="number" id="bayar" placeholder="Masukkan jumlah bayar" />
      <h3>Kembalian: Rp <span id="kembalian">0</span></h3>

      <button class="btn btn-primary" onclick="cetakStruk()">
        Tampilkan Struk
      </button>
      <button class="btn btn-secondary" onclick="printStruk()">
        Print Struk
      </button>
      <button class="btn btn-danger" onclick="resetSemua()">Reset</button>

      <button class="btn btn-report" onclick="openLaporanModal()">
        Laporan
      </button>

      <div id="laporanModal">
        <div class="laporan-content">
          <div class="laporan-header">
            <h3>Laporan Penjualan</h3>
            <span
              class="close-btn"
              style="cursor: pointer; color: red"
              onclick="closeLaporanModal()"
              >Tutup</span
            >
          </div>

          <button
            class="btn btn-secondary"
            onclick="tampilkanLaporan('harian')"
          >
            Laporan Harian
          </button>
          <button
            class="btn btn-secondary"
            onclick="tampilkanLaporan('bulanan')"
          >
            Laporan Bulanan
          </button>

          <div id="laporanHarian" style="display: none">
            <h4>Laporan Penjualan Hari Ini</h4>
            <table class="laporan-table">
              <thead>
                <tr>
                  <th>Tanggal & Waktu</th>
                  <th>Produk</th>
                  <th>Total</th>
                </tr>
              </thead>
              <tbody id="harianBody"></tbody>
            </table>
          </div>

          <div id="laporanBulanan" style="display: none">
            <h4>Total Pendapatan Bulan Ini</h4>
            <table class="laporan-table">
              <thead>
                <tr>
                  <th>Total</th>
                  <th>Rp</th>
                </tr>
              </thead>
              <tbody id="bulananBody"></tbody>
            </table>
          </div>

          <button class="btn btn-danger" onclick="hapusLaporan()">
            Hapus Semua Laporan
          </button>
        </div>
      </div>

      <div id="struk"></div>
    </div>

    <div id="loadingScreen" style="display: none">
      <div class="loader">
        <img src="images/log-out.png" alt="Loading..." />
        <p>Terima kasih telah menjadi pelanggan kami</p>
      </div>
    </div>

    <script src="js/kasir.js"></script>
  </body>
</html>
